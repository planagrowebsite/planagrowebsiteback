var Hashtable=function(){var t="function",n=typeof Array.prototype.splice==t?function(t,n){t.splice(n,1)}:function(t,n){var e,r,i;if(n===t.length-1)t.length=n;else for(e=t.slice(n+1),t.length=n,r=0,i=e.length;r<i;++r)t[n+r]=e[r]};function e(n){var r;if("string"==typeof n)return n;if(typeof n.hashCode==t)return"string"==typeof(r=n.hashCode())?r:e(r);if(typeof n.toString==t)return n.toString();try{return String(n)}catch(t){return Object.prototype.toString.call(n)}}function r(t,n){return t.equals(n)}function i(n,e){return typeof e.equals==t?e.equals(n):n===e}function u(t){return function(n){if(null===n)throw new Error("null is not a valid "+t);if(void 0===n)throw new Error(t+" must not be undefined")}}var o=u("key"),s=u("value");function l(t,n,e,r){this[0]=t,this.entries=[],this.addEntry(n,e),null!==r&&(this.getEqualityFunction=function(){return r})}var f=0,a=1,h=2;function c(t){return function(n){for(var e,r=this.entries.length,i=this.getEqualityFunction(n);r--;)if(i(n,(e=this.entries[r])[0]))switch(t){case f:return!0;case a:return e;case h:return[r,e[1]]}return!1}}function y(t){return function(n){for(var e=n.length,r=0,i=this.entries.length;r<i;++r)n[e+r]=this.entries[r][t]}}function g(t,n){var e=t[n];return e&&e instanceof l?e:null}return l.prototype={getEqualityFunction:function(n){return typeof n.equals==t?r:i},getEntryForKey:c(a),getEntryAndIndexForKey:c(h),removeEntryForKey:function(t){var e=this.getEntryAndIndexForKey(t);return e?(n(this.entries,e[0]),e[1]):null},addEntry:function(t,n){this.entries[this.entries.length]=[t,n]},keys:y(0),values:y(1),getEntries:function(t){for(var n=t.length,e=0,r=this.entries.length;e<r;++e)t[n+e]=this.entries[e].slice(0)},containsKey:c(f),containsValue:function(t){for(var n=this.entries.length;n--;)if(t===this.entries[n][1])return!0;return!1}},function r(i,u){var f=this,a=[],h={},c=typeof i==t?i:e,y=typeof u==t?u:null;this.put=function(t,n){o(t),s(n);var e,r,i=c(t),u=null;return(e=g(h,i))?(r=e.getEntryForKey(t))?(u=r[1],r[1]=n):e.addEntry(t,n):(e=new l(i,t,n,y),a[a.length]=e,h[i]=e),u},this.get=function(t){o(t);var n=c(t),e=g(h,n);if(e){var r=e.getEntryForKey(t);if(r)return r[1]}return null},this.containsKey=function(t){o(t);var n=c(t),e=g(h,n);return!!e&&e.containsKey(t)},this.containsValue=function(t){s(t);for(var n=a.length;n--;)if(a[n].containsValue(t))return!0;return!1},this.clear=function(){a.length=0,h={}},this.isEmpty=function(){return!a.length};var v=function(t){return function(){for(var n=[],e=a.length;e--;)a[e][t](n);return n}};this.keys=v("keys"),this.values=v("values"),this.entries=v("getEntries"),this.remove=function(t){o(t);var e,r=c(t),i=null,u=g(h,r);return u&&null!==(i=u.removeEntryForKey(t))&&(u.entries.length||(e=function(t,n){for(var e=t.length;e--;)if(n===t[e][0])return e;return null}(a,r),n(a,e),delete h[r])),i},this.size=function(){for(var t=0,n=a.length;n--;)t+=a[n].entries.length;return t},this.each=function(t){for(var n,e=f.entries(),r=e.length;r--;)t((n=e[r])[0],n[1])},this.putAll=function(n,e){for(var r,i,u,o,s=n.entries(),l=s.length,a=typeof e==t;l--;)i=(r=s[l])[0],u=r[1],a&&(o=f.get(i))&&(u=e(i,o,u)),f.put(i,u)},this.clone=function(){var t=new r(i,u);return t.putAll(f),t}}}();