!function(t){var r=new Hashtable,e=[[".",","],[",","."],[","," "],[".","'"]],n=[["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],["cz","fi","fr","ru","se","pl"],["ch"]];function a(t,r,e){this.dec=t,this.group=r,this.neg=e}function i(t,i){0==r.size()&&function(){for(var t=0;t<n.length;t++){localeGroup=n[t];for(var e=0;e<localeGroup.length;e++)r.put(localeGroup[e],t)}}();var o=".",l=",";0==i&&(-1!=t.indexOf("_")?t=t.split("_")[1].toLowerCase():-1!=t.indexOf("-")&&(t=t.split("-")[1].toLowerCase()));var f=r.get(t);if(f){var u=e[f];u&&(o=u[0],l=u[1])}return new a(o,l,"-")}t.fn.formatNumber=function(r,e,n){return this.each(function(){var a;null==e&&(e=!0),null==n&&(n=!0),a=t(this).is(":input")?new String(t(this).val()):new String(t(this).text());var i=t.formatNumber(a,r);if(e&&(t(this).is(":input")?t(this).val(i):t(this).text(i)),n)return i})},t.formatNumber=function(r,e){for(var n=i((e=t.extend({},t.fn.formatNumber.defaults,e)).locale.toLowerCase(),e.isFullLocale),a=(n.dec,n.group,n.neg,""),o=!1,l=0;l<e.format.length;l++){if(-1!="0#-,.".indexOf(e.format.charAt(l))){if(0==l&&"-"==e.format.charAt(l)){o=!0;continue}break}a+=e.format.charAt(l)}var f="";for(l=e.format.length-1;l>=0&&-1=="0#-,.".indexOf(e.format.charAt(l));l--)f=e.format.charAt(l)+f;e.format=e.format.substring(a.length),e.format=e.format.substring(0,e.format.length-f.length);var u=new Number(r);return t._formatNumber(u,e,f,a,o)},t._formatNumber=function(r,e,n,a,o){var l=i((e=t.extend({},t.fn.formatNumber.defaults,e)).locale.toLowerCase(),e.isFullLocale),f=l.dec,u=l.group,s=l.neg,h=!1;if(isNaN(r)){if(1!=e.nanForceZero)return null;r=0,h=!0}"%"==n&&(r*=100);var c="";if(e.format.indexOf(".")>-1){var g=f,m=e.format.substring(e.format.lastIndexOf(".")+1);if(1==e.round)r=new Number(r.toFixed(m.length));else{var d=r.toString();d=d.substring(0,d.lastIndexOf(".")+m.length+1),r=new Number(d)}var v=new String((r%1).toFixed(m.length));v=v.substring(v.lastIndexOf(".")+1);for(var b=0;b<m.length;b++)if("#"!=m.charAt(b)||"0"==v.charAt(b)){if("#"==m.charAt(b)&&"0"==v.charAt(b)){if(v.substring(b).match("[1-9]")){g+=v.charAt(b);continue}break}"0"==m.charAt(b)&&(g+=v.charAt(b))}else g+=v.charAt(b);c+=g}else r=Math.round(r);var p=Math.floor(r);r<0&&(p=Math.ceil(r));var x="";x=-1==e.format.indexOf(".")?e.format:e.format.substring(0,e.format.indexOf("."));var w="";if(0!=p||"#"!=x.substr(x.length-1)||h){var N=new String(Math.abs(p)),A=9999;-1!=x.lastIndexOf(",")&&(A=x.length-x.lastIndexOf(",")-1);var O=0;for(b=N.length-1;b>-1;b--)w=N.charAt(b)+w,++O==A&&0!=b&&(w=u+w,O=0);if(x.length>w.length){var S=x.indexOf("0");if(-1!=S)for(var F=x.length-S,L=x.length-w.length-1;w.length<F;){var I=x.charAt(L);","==I&&(I=u),w=I+w,L--}}}return w||-1===x.indexOf("0",x.length-1)||(w="0"),c=w+c,r<0&&o&&a.length>0?a=s+a:r<0&&(c=s+c),e.decimalSeparatorAlwaysShown||c.lastIndexOf(f)==c.length-1&&(c=c.substring(0,c.length-1)),c=a+c+n},t.fn.parseNumber=function(r,e,n){var a;null==e&&(e=!0),null==n&&(n=!0),a=t(this).is(":input")?new String(t(this).val()):new String(t(this).text());var i=t.parseNumber(a,r);if(i&&(e&&(t(this).is(":input")?t(this).val(i.toString()):t(this).text(i.toString())),n))return i},t.parseNumber=function(r,e){for(var n=i((e=t.extend({},t.fn.parseNumber.defaults,e)).locale.toLowerCase(),e.isFullLocale),a=n.dec,o=n.group,l=n.neg;r.indexOf(o)>-1;)r=r.replace(o,"");var f="",u=!1;"%"!=(r=r.replace(a,".").replace(l,"-")).charAt(r.length-1)&&1!=e.isPercentage||(u=!0);for(var s=0;s<r.length;s++)"1234567890.-".indexOf(r.charAt(s))>-1&&(f+=r.charAt(s));var h=new Number(f);if(u){h/=100;var c=f.indexOf(".");if(-1!=c){var g=f.length-c-1;h=h.toFixed(g+2)}else h=h.toFixed(f.length-1)}return h},t.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:!1,isPercentage:!1,isFullLocale:!1},t.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:!1,nanForceZero:!0,round:!0,isFullLocale:!1},Number.prototype.toFixed=function(r){return t._roundNumber(this,r)},t._roundNumber=function(t,r){var e=Math.pow(10,r||0),n=String(Math.round(t*e)/e);if(r>0){var a=n.indexOf(".");for(-1==a?(n+=".",a=0):a=n.length-(a+1);a<r;)n+="0",a++}return n}}(jQuery);